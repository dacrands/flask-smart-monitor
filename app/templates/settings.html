{% extends "base.html" %}

{% block content %}
<main class="container">
  <header class="header primary">
    <h1>Settings</h1>
  </header>

  <div class="settings">
    <h1 class="font-light">Stocks</h1>
    <!-- <h2 class="font-light">Your stocks: </h2> -->
    <ul>
      {% for stock in stocks %}
      <li>
        <h3>{{stock}}</h3>

        <a href="/settings/{{stock}}">Remove stock</a>
      </li>
      {% endfor %}
    </ul>
    <form action="" method="post">
      <!-- <h3 class="font-light">Add a stock: </h3> -->
      {{ stockForm.hidden_tag() }}
      <p>
        {{ stockForm.symbol.label }}
        {{ stockForm.symbol(size=8) }}
        {% for err in stockForm.symbol.errors %}
        <span class="error">Stock: {{ err }}</span>
        {% endfor %}
      </p>
      <p class=>{{ stockForm.submitStock() }}</p>
    </form>
  </div>


  <div class="settings">
    <form action="" method="post">
      <h1 class="font-light">Location</h1>
      <h3 class="primary">{{lat, lon}} </h3>
      {{ locationForm.hidden_tag() }}
      <p>
        {{ locationForm.lat.label }}
        {{ locationForm.lat(size=4) }}
        {% for err in locationForm.lat.errors %}
        <span class="error">Stock: {{ err }}</span>
        {% endfor %}
        <br>
        {{ locationForm.lon.label }}
        {{ locationForm.lon(size=4) }}        
        {% for err in locationForm.lon.errors %}
        <span class="error">Stock: {{ err }}</span>
        {% endfor %}
      </p>
      <p class=>{{ locationForm.submitLoc() }}</p>
    </form>
  </div>


  <div class="settings">
      <h1 class="font-light">Todo</h1>
      <h3 class="primary">Add a todo </h3>
      <ul>
        {% for todo in todos %}
        <li>
          <p>{{todo[-1]}}</p>
          <a href="/settings/todo/{{todo[0]}}">Remove todo</a>
        </li>
        {% endfor %}
    </ul>
    <form action="" method="post">      
      {{ todoForm.hidden_tag() }}
      <p>
        {{ todoForm.todo.label }}
        {{ todoForm.todo(size=32) }}
        {% for err in todoForm.todo.errors %}
        <span class="error">Todo: {{ err }}</span>
        {% endfor %}
      </p>
      <p class=>{{ todoForm.submitTodo() }}</p>
    </form>
  </div>



  <a href="/">&larr; Back</a>
</main>


{% endblock %}